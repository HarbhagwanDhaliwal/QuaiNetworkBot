"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ConversionCoinSelector = void 0;
const coinselector_fewest_js_1 = require("./coinselector-fewest.js");
const utxo_js_1 = require("./utxo.js");
/**
 * The ConversionSelector class provides a coin selection algorithm that selects the fewest UTXOs required to meet the
 * target amount. This algorithm is useful for minimizing the size of the transaction and the fees associated with it.
 *
 * This class is a modified version of {@link FewestCoinSelector | **FewestCoinSelector** } and implements the
 * {@link FewestCoinSelector.createSpendOutputs | **createSpendOutputs** } method to provide the actual coin selection
 * logic.
 *
 * @category Transaction
 */
class ConversionCoinSelector extends coinselector_fewest_js_1.FewestCoinSelector {
    /**
     * Creates spend outputs based on the target amount and input denominations.
     *
     * @param {bigint} amount - The target amount to spend.
     * @returns {UTXO[]} The spend outputs.
     */
    createSpendOutputs(amount) {
        // Spend outpoints are not limited to max input denomination
        const spendDenominations = (0, utxo_js_1.denominate)(amount);
        return spendDenominations.map((denominationValue) => {
            const utxo = new utxo_js_1.UTXO();
            utxo.denomination = utxo_js_1.denominations.indexOf(denominationValue);
            return utxo;
        });
    }
}
exports.ConversionCoinSelector = ConversionCoinSelector;
//# sourceMappingURL=coinselector-conversion.js.map